pipeline {
    agent any
    stages {
        stage('Clean') {
            steps {
                echo 'Cleaning...'
                bat 'mvn clean'
            }
        }
        stage('validate'){
            steps{
                echo 'validate'
                bat 'mvn validate'
            }
        }
        stage('compile'){
            steps{
                echo 'compile'
                bat 'mvn compile'
            }
        }
        stage('test'){
            steps{
                echo 'test'
                bat 'mvn test'
            }
        }
        stage('Package') {
            steps {
                echo 'Packaging...'
                bat 'mvn package'
            }
        }
        stage('verify'){
            steps{
                echo 'verfying....'
                bat 'mvn verify'
            }
        }
        stage('install') {
            steps {
                echo 'install...'
                bat 'mvn install'
            }
        }
        stage('deploy-to-tomcat') {
            steps {
                deploy adapters: [tomcat9(alternativeDeploymentContext: '', credentialsId: 'Tomcat9', path: '', url: 'http://localhost:8080/')], contextPath:  "${CARGO_CONTEXT}", war: '**/target/*.war'
           
            }
        }
    }
}
